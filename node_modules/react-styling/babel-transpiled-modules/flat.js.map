{"version":3,"sources":["../source/flat.js"],"names":[],"mappings":";;;;;;;;;;;;;;kBAOe,UAAS,OAAT,EACf;AAAA,mCADoC,MACpC;AADoC,QACpC;AAAA;;AACC,KAAM,QAAQ,gBAAO,KAAP,CAAa,IAAb,EAAmB,CAAC,OAAD,EAAU,MAAV,CAAiB,MAAjB,CAAnB,CAAd;;AAEA,SAAQ,KAAR;;AAEA,QAAO,KAAP;AACA,C;;AAdD;;;;AACA;;;;AAeA;AACA;AACA,SAAS,OAAT,CAAiB,MAAjB,EAAyB,MAAzB,EAAiC,QAAjC,EACA;AACC,KAAI,eAAJ;;AAEA,KAAI,MAAJ,EACA;AACC,SAAO,QAAP,IAAmB,MAAnB;AACA,WAAY,QAAZ;AACA,EAJD,MAMA;AACC,WAAS,MAAT;AACA,WAAS,EAAT;AACA;;AAZF;AAAA;AAAA;;AAAA;AAcC,kDAAgB,oBAAY,MAAZ,CAAhB,4GACA;AAAA,OADS,GACT;;AACC,OAAM,eAAe,OAAO,GAAP,CAArB;;AAEA,OAAI,wBAAU,YAAV,KAA2B,CAAC,4BAAgB,GAAhB,CAA5B,IAAoD,CAAC,2BAAe,GAAf,CAAzD,EACA;AACC,WAAO,OAAO,GAAP,CAAP;AACA,YAAQ,YAAR,EAAsB,MAAtB,OAAiC,MAAjC,GAA0C,GAA1C;AACA;AACD;AAvBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBC;;AAxCD;AACA;AACA;AACA","file":"flat.js","sourcesContent":["import styler, { is_pseudo_class, is_media_query } from './index'\r\nimport { is_object } from './helpers'\r\n\r\n// for Radium it flattens the style class hierarchy:\r\n// moves nested style classes to the top of the naming tree\r\n// while prefixing them accordingly\r\n// (except modifiers and media queries)\r\nexport default function(strings, ...values)\r\n{\r\n\tconst style = styler.apply(this, [strings].concat(values))\r\n\r\n\tmove_up(style)\r\n\r\n\treturn style\r\n}\r\n\r\n// moves child style classes to the surface of the style class tree\r\n// prefixing them accordingly\r\nfunction move_up(object, upside, new_name)\r\n{\r\n\tlet prefix\r\n\r\n\tif (upside)\r\n\t{\r\n\t\tupside[new_name] = object\r\n\t\tprefix = `${new_name}_`\r\n\t}\r\n\telse\r\n\t{\r\n\t\tupside = object\r\n\t\tprefix = ''\r\n\t}\r\n\r\n\tfor (let key of Object.keys(object))\r\n\t{\r\n\t\tconst child_object = object[key]\r\n\r\n\t\tif (is_object(child_object) && !is_pseudo_class(key) && !is_media_query(key))\r\n\t\t{\r\n\t\t\tdelete object[key]\r\n\t\t\tmove_up(child_object, upside, `${prefix}${key}`)\r\n\t\t}\r\n\t}\r\n}"]}